(function(o){function t(t){for(var n,r,s=t[0],u=t[1],c=t[2],d=0,p=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(o[n]=u[n]);h&&h(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),e()}function e(){for(var o,t=0;t<a.length;t++){for(var e=a[t],n=!0,r=1;r<e.length;r++){var s=e[r];0!==i[s]&&(n=!1)}n&&(a.splice(t--,1),o=u(u.s=e[0]))}return o}var n={},r={app:0},i={app:0},a=[];function s(o){return u.p+"js/"+({}[o]||o)+"."+{"chunk-67cf4106":"604cd4e2","chunk-3ed93f81":"668bafed","chunk-552aadaa":"950fc5c6","chunk-0e73ac1d":"7a77a1e2","chunk-edf9e9c2":"887ae31c","chunk-1d4dc893":"85af2d52","chunk-a8cdc7ba":"177d610b","chunk-3070c992":"cfba2582"}[o]+".js"}function u(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,u),e.l=!0,e.exports}u.e=function(o){var t=[],e={"chunk-67cf4106":1,"chunk-3ed93f81":1,"chunk-552aadaa":1,"chunk-0e73ac1d":1,"chunk-1d4dc893":1,"chunk-a8cdc7ba":1,"chunk-3070c992":1};r[o]?t.push(r[o]):0!==r[o]&&e[o]&&t.push(r[o]=new Promise((function(t,e){for(var n="css/"+({}[o]||o)+"."+{"chunk-67cf4106":"5080b722","chunk-3ed93f81":"644aae7c","chunk-552aadaa":"ab1d3b88","chunk-0e73ac1d":"b0221845","chunk-edf9e9c2":"31d6cfe0","chunk-1d4dc893":"17ace111","chunk-a8cdc7ba":"41d4351a","chunk-3070c992":"bebb7d30"}[o]+".css",i=u.p+n,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var c=a[s],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===n||d===i))return t()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){c=p[s],d=c.getAttribute("data-href");if(d===n||d===i)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var n=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+o+" failed.\n("+n+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=n,delete r[o],h.parentNode.removeChild(h),e(a)},h.href=i;var l=document.getElementsByTagName("head")[0];l.appendChild(h)})).then((function(){r[o]=0})));var n=i[o];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,e){n=i[o]=[t,e]}));t.push(n[2]=a);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=s(o);var p=new Error;c=function(t){d.onerror=d.onload=null,clearTimeout(h);var e=i[o];if(0!==e){if(e){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;p.message="Loading chunk "+o+" failed.\n("+n+": "+r+")",p.name="ChunkLoadError",p.type=n,p.request=r,e[1](p)}i[o]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(t)},u.m=o,u.c=n,u.d=function(o,t,e){u.o(o,t)||Object.defineProperty(o,t,{enumerable:!0,get:e})},u.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},u.t=function(o,t){if(1&t&&(o=u(o)),8&t)return o;if(4&t&&"object"===typeof o&&o&&o.__esModule)return o;var e=Object.create(null);if(u.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:o}),2&t&&"string"!=typeof o)for(var n in o)u.d(e,n,function(t){return o[t]}.bind(null,n));return e},u.n=function(o){var t=o&&o.__esModule?function(){return o["default"]}:function(){return o};return u.d(t,"a",t),t},u.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)},u.p="/",u.oe=function(o){throw console.error(o),o};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var h=d;a.push([0,"chunk-vendors"]),e()})({0:function(o,t,e){o.exports=e("56d7")},"034f":function(o,t,e){"use strict";e("85ec")},"2db1":function(o,t,e){o.exports=e.p+"media/alarm.75ed11ce.mp3"},"41d0":function(o,t,e){},"56d7":function(o,t,e){"use strict";e.r(t);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),r=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("v-app",[e("div",{attrs:{id:"global-pomo"}},[e("Pomodoro",{attrs:{minutes:25,seconds:0,pomodoroType:-1}})],1),e("router-view")],1)},i=[],a=e("9021"),s={name:"App",data:function(){return{}},components:{Pomodoro:a["a"]}},u=s,c=(e("034f"),e("2877")),d=e("6544"),p=e.n(d),h=e("7496"),l=Object(c["a"])(u,r,i,!1,null,null,null),m=l.exports;p()(l,{VApp:h["a"]});e("d3b7"),e("3ca3"),e("ddb0");var f=e("8c4f"),g=function(){return Promise.all([e.e("chunk-67cf4106"),e.e("chunk-552aadaa"),e.e("chunk-0e73ac1d")]).then(e.bind(null,"4601"))},b=function(){return Promise.all([e.e("chunk-67cf4106"),e.e("chunk-552aadaa"),e.e("chunk-edf9e9c2"),e.e("chunk-1d4dc893")]).then(e.bind(null,"6f68"))},y=function(){return Promise.all([e.e("chunk-67cf4106"),e.e("chunk-a8cdc7ba")]).then(e.bind(null,"dd7b"))},w=function(){return Promise.all([e.e("chunk-67cf4106"),e.e("chunk-3ed93f81")]).then(e.bind(null,"e46d"))},v=function(){return Promise.all([e.e("chunk-67cf4106"),e.e("chunk-edf9e9c2"),e.e("chunk-3070c992")]).then(e.bind(null,"5014"))},k=[{path:"/dashboard",name:"Dashboard",component:g},{path:"/workspace",name:"Workspace",component:v},{path:"/workspace/:id",name:"WorkspaceItem",component:b},{path:"/login",name:"Login",component:y},{path:"/performlogin",name:"PerformLogin",component:w},{path:"/:pathMatch(.*)*",redirect:{name:"Login"}}],T=new f["a"]({routes:k}),P=T,C=e("f309");n["default"].use(C["a"]);var x=new C["a"]({}),I=e("1321"),O=e.n(I),j=e("5f5b"),A=e("b1e0"),_=e("9612"),L=e("1da1"),S=(e("96cf"),e("7db0"),e("2f62")),G=e("6a71");n["default"].use(S["a"]);var E=new S["a"].Store({state:{loadedToGlobal:{type:-1},status:"",userIcon:null,userName:null,token:localStorage.getItem("token")||"",useremail:localStorage.getItem("useremail")||"",pomodoro:{running:!1,paused:!1,stopped:!0,timerCount:null,timeLimit:null,min:null,secs:null,warning:null,alert:null,pomodoroType:1,changed:{count:0},workspaceId:null,pomodoroId:null},workspaces:[]},getters:{isLoggedIn:function(o){return!!o.token},authStatus:function(o){return o.status},workspaces:function(o){return o.workspaces},getWorkspaceById:function(o){return function(t){return o.workspaces.find((function(o){return o.id===t}))}}},mutations:{auth_update:function(o,t){o.useremail=t.useremail,o.userIcon=t.userIcon,o.userName=t.userName,o.token=t.token},auth_success:function(o,t){o.status="success",o.token=t.getId(),o.useremail=t.getEmail(),o.userIcon=t.getImageUrl(),o.userName=t.getName()},auth_error:function(o){o.status="error"},logout:function(o){o.status="",o.token="",o.useremail="",o.userIcon="",o.userName=""},SET_Workspaces:function(o,t){o.workspaces=t}},actions:{loadWorkspaces:function(o){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.commit,r="",e.next=4,G["a"].get("user/".concat(t.state.useremail)).then((function(o){r=o.data._id}));case 4:return e.next=6,G["a"].get("workspace/OwnerId/"+r).then((function(o){return o.data})).then((function(o){n("SET_Workspaces",o)}));case 6:case"end":return e.stop()}}),e)})))()}}}),R=e("683f"),N=(e("41d0"),e("53ca")),$=function(){function o(){var o="https://apis.google.com/js/api.js";return new Promise((function(t){var e=document.createElement("script");e.src=o,e.onreadystatechange=e.onload=function(){e.readyState&&!/loaded|complete/.test(e.readyState)||setTimeout((function(){t()}),500)},document.getElementsByTagName("head")[0].appendChild(e)}))}function t(o){return new Promise((function(t){window.gapi.load("auth2",(function(){window.gapi.auth2.init(o).then((function(){t(window.gapi)}))}))}))}function e(){var n=this;if(!(this instanceof e))return new e;this.GoogleAuth=null,this.isAuthorized=!1,this.isInit=!1,this.prompt=null,this.isLoaded=function(){return console.warn('isLoaded() will be deprecated. You can use "this.$gAuth.isInit"'),!!this.GoogleAuth},this.load=function(e,r){o().then((function(){return t(e)})).then((function(o){n.GoogleAuth=o.auth2.getAuthInstance(),n.isInit=!0,n.prompt=r,n.isAuthorized=n.GoogleAuth.isSignedIn.get()}))},this.signIn=function(o,t){return new Promise((function(e,r){if(!n.GoogleAuth)return"function"===typeof t&&t(!1),void r(!1);n.GoogleAuth.signIn().then((function(t){"function"===typeof o&&o(t),n.isAuthorized=n.GoogleAuth.isSignedIn.get(),e(t)})).catch((function(o){"function"===typeof t&&t(o),r(o)}))}))},this.getAuthCode=function(o,t){return new Promise((function(e,r){if(!n.GoogleAuth)return"function"===typeof t&&t(!1),void r(!1);n.GoogleAuth.grantOfflineAccess({prompt:n.prompt}).then((function(t){"function"===typeof o&&o(t.code),e(t.code)})).catch((function(o){"function"===typeof t&&t(o),r(o)}))}))},this.signOut=function(o,t){return new Promise((function(e,r){if(!n.GoogleAuth)return"function"===typeof t&&t(!1),void r(!1);n.GoogleAuth.signOut().then((function(){"function"===typeof o&&o(),n.isAuthorized=!1,e(!0)})).catch((function(o){"function"===typeof t&&t(o),r(o)}))}))}}return new e}();function D(o,t){var e=null,n={scope:"profile email https://www.googleapis.com/auth/calendar",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]},r="select_account";"object"===Object(N["a"])(t)?(e=Object.assign(n,t),t.scope&&(e.scope=t.scope),t.prompt&&(r=t.prompt),t.client_id||console.warn("client_id is required")):console.warn("invalid option type. Object type accepted only"),o.gAuth=$,Object.defineProperties(o.prototype,{$gAuth:{get:function(){return o.gAuth}}}),o.gAuth.load(e,r)}var V=D;n["default"].use(j["a"]),n["default"].use(A["a"]);var W={client_id:"356262653651-hr7486q88tir6rulnbjmpnqt0qjj5l2o.apps.googleusercontent.com",scope:"profile email https://www.googleapis.com/auth/calendar",prompt:"select_account"};n["default"].use(V,W),n["default"].use(R["a"]),n["default"].use(_["a"]),n["default"].use(f["a"]),n["default"].use(O.a),n["default"].component("apexchart",O.a),n["default"].config.productionTip=!1,new n["default"]({store:E,router:P,vuetify:x,render:function(o){return o(m)}}).$mount("#app")},"6a71":function(o,t,e){"use strict";var n=e("bc3a"),r=e.n(n),i=5e3,a=r.a.create({baseURL:"http://localhost:".concat(i,"/api/")});t["a"]=a},"85ec":function(o,t,e){},"8e7e":function(o,t,e){},9021:function(o,t,e){"use strict";var n=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",{attrs:{id:"pomodoro"}},[e("div",{staticClass:"pomodoro-wrapper"},[e("svg",{staticClass:"base-timer-svg",attrs:{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[e("g",{staticClass:"base-timer-circle"},[e("circle",{staticClass:"base-timer-path-elapsed",attrs:{cx:"50",cy:"50",r:"46.5"}}),e("path",{staticClass:"base-timer-path-remaining",class:o.remainingPathColor,attrs:{"stroke-dasharray":o.circleDasharray,d:"\n                M 50, 50\n                m -45, 0\n                a 45,45 0 1,0 90,0\n                a 45,45 0 1,0 -90,0\n              "}})])]),e("span",{staticClass:"base-timer-label"},[o._v(" "+o._s(o.currentTime)+" ")])]),e("div",{staticClass:"buttons"},[e("div",{staticClass:"horizontal-center"},[e("b-button",{attrs:{id:"start-button",size:"lg",pill:"",variant:"success"},on:{click:o.run}},[o._v("Iniciar")]),e("b-button",{attrs:{id:"pause-button",size:"lg",pill:"",variant:"success"},on:{click:o.pause}},[o._v("Pausar")]),e("b-button",{attrs:{id:"reset-button",size:"lg",pill:"",variant:"success"},on:{click:o.reset}},[o._v("Resetar")])],1)])])},r=[],i=e("1da1"),a=e("5530"),s=(e("96cf"),e("a9e3"),e("99af"),e("b680"),e("2f62")),u=e("6a71"),c=new Audio(e("2db1")),d=283,p={info:{color:"green"},warning:{color:"orange"},alert:{color:"red"}},h={data:function(){return{pomodoro:this.$store.state.pomodoro,loadToGlobal:this.$store.state.loadedToGlobal,runningLocal:this.$store.state.pomodoro.running,changed:-1===this.pomodoroType?this.$store.state.pomodoro.changed:{count:-1},typePomodoro:this.pomodoroType&&-1!==this.pomodoroType?{type:this.pomodoroType}:this.$store.state.loadedToGlobal}},props:{minutes:{type:Number,validator:function(o){return o>=0&&o<=60},default:25},seconds:{type:Number,validator:function(o){return o>=0&&o<=59},default:0},alertThreshold:{type:Number,default:1},warningThreshold:{type:Number,default:5},pomodoroType:{type:Number,default:1}},created:function(){c.loop=!0,window.addEventListener("beforeunload",this.unloadHandler)},beforeDestroy:function(){window.removeEventListener("beforeunload",this.unloadHandler)},computed:Object(a["a"])({currentTime:function(){var o=this.pomodoro.pomodoroType===this.typePomodoro.type&&null!==this.pomodoro.min?this.pomodoro.min:this.minutes,t=this.pomodoro.pomodoroType===this.typePomodoro.type&&null!==this.pomodoro.secs?this.pomodoro.secs:this.seconds;0===o&&0===t&&this.alerta();var e=o<10?"0"+o:o,n=t<10?"0"+t:t;return"".concat(e,":").concat(n)},circleDasharray:function(){return"".concat((this.timeFraction*d).toFixed(0)," 283")},timeFraction:function(){if(this.pomodoro.pomodoroType===this.typePomodoro.type){var o=this.pomodoro.timerCount/this.pomodoro.timeLimit;return o-1/this.pomodoro.timeLimit*(1-o)}},remainingPathColor:function(){var o=p.alert,t=p.warning,e=p.info,n=this.pomodoro.pomodoroType===this.typePomodoro.type&&null!==this.pomodoro.timerCount?this.pomodoro.timerCount:60*this.minutes+this.seconds,r=this.pomodoro.pomodoroType===this.typePomodoro.type&&null!==this.pomodoro.alert?this.pomodoro.alert:60*this.alertThreshold,i=this.pomodoro.pomodoroType===this.typePomodoro.type&&null!==this.pomodoro.warning?this.pomodoro.warning:60*this.warningThreshold;return n<r?o.color:n<i?t.color:e.color},running:function(){return-1===this.pomodoroType&&this.pomodoro.running},timerCount:function(){return this.changed.count}},Object(s["b"])(["getWorkspaceById"])),watch:{running:function(o){var t=this;o&&setTimeout((function(){t.countDown()}),1e3)},timerCount:{handler:function(o){var t=this;setTimeout((function(){t.countDown()}),1e3)}}},methods:{unloadHandler:function(o){-1===this.pomodoroType&&!0===this.pomodoro.running&&(o.preventDefault(),o.returnValue="",this.endPomodoro())},createPomodoro:function(){var o=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={StartingSeconds:o.seconds,StartingMinutes:o.minutes,CreatedOn:(new Date).toISOString().substr(0,10)},t.next=3,u["a"].post("pomodoro",e).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=o.getWorkspaceById(o.pomodoro.workspaceId),n.pomodoros.push(e.data._id),o.pomodoro.pomodoroId=e.data._id,t.next=5,u["a"].put("workspace/".concat(n._id),n).then((function(){return o.$store.dispatch("loadWorkspaces")}));case 5:case"end":return t.stop()}}),t)})));return function(o){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})))()},endPomodoro:function(){var o=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].get("pomodoro/".concat(o.pomodoro.pomodoroId));case 2:return e=t.sent,e=e.data,e.EndedOn=(new Date).toISOString().substr(0,10),e.RemainingMinutes=o.pomodoro.min,e.RemainingSeconds=o.pomodoro.secs,t.next=9,u["a"].put("pomodoro/".concat(o.pomodoro.pomodoroId),e);case 9:case"end":return t.stop()}}),t)})))()},incrementChangedVariable:function(){this.changed.count+=1},run:function(){var o=Object(i["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(this.loadToGlobal.type===this.typePomodoro.type&&-1!==this.typePomodoro.type&&this.pomodoro.workspaceId===this.$route.params.id&&this.pomodoro.pomodoroId){o.next=7;break}if(!0!==this.pomodoro.running){o.next=4;break}return o.next=4,this.pause();case 4:return this.loadValuesToGlobal(),o.next=7,this.createPomodoro();case 7:(this.pomodoro.paused||this.pomodoro.stopped)&&(this.pomodoro.running=!0,this.runningLocal=this.pomodoro.running,this.pomodoro.paused=!1,this.pomodoro.stopped=!1,this.runningLocal!==this.pomodoro.running&&(this.incrementChangedVariable(),this.runningLocal=this.pomodoro.running));case 8:case"end":return o.stop()}}),o,this)})));function t(){return o.apply(this,arguments)}return t}(),pause:function(){var o=Object(i["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(this.loadToGlobal.type!==this.typePomodoro.type){o.next=8;break}if(!0!==this.pomodoro.running){o.next=4;break}return o.next=4,this.endPomodoro();case 4:this.pomodoro.running=!1,this.runningLocal=this.pomodoro.running,this.pomodoro.paused=!0,this.pomodoro.stopped=!1;case 8:case"end":return o.stop()}}),o,this)})));function t(){return o.apply(this,arguments)}return t}(),reset:function(){var o=Object(i["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(this.loadToGlobal.type!==this.typePomodoro.type){o.next=6;break}if(!0!==this.pomodoro.running){o.next=4;break}return o.next=4,this.endPomodoro();case 4:this.loadValuesToGlobal(),this.runningLocal=this.pomodoro.running;case 6:case"end":return o.stop()}}),o,this)})));function t(){return o.apply(this,arguments)}return t}(),countDown:function(){this.pomodoro.secs>0&&this.pomodoro.running?(this.pomodoro.secs--,this.pomodoro.timerCount=1===this.pomodoro.timerCount?this.pomodoro.timerCount:this.pomodoro.timerCount-1,this.incrementChangedVariable()):this.pomodoro.min>0&&0===this.pomodoro.secs&&this.pomodoro.running&&(this.pomodoro.secs=59,this.pomodoro.min--,this.pomodoro.timerCount=1===this.pomodoro.timerCount?this.pomodoro.timerCount:this.pomodoro.timerCount-1,this.incrementChangedVariable())},loadValuesToGlobal:function(){var o=this.pomodoroType<=0&&null!==this.pomodoro.timeLimit?(this.pomodoro.timeLimit-this.pomodoro.timeLimit%60)/60:this.minutes,t=this.pomodoroType<=0&&null!==this.pomodoro.timeLimit?this.pomodoro.timeLimit%60:this.seconds,e={running:!1,paused:!1,stopped:!0,min:o,secs:t,timerCount:60*o+t,timeLimit:60*o+t,warning:this.pomodoroType<=0&&null!==this.pomodoro.warning?this.pomodoro.warning:60*this.warningThreshold,alert:this.pomodoroType<=0&&null!==this.pomodoro.alert?this.pomodoro.alert:60*this.alertThreshold,pomodoroType:-1!==this.typePomodoro.type?this.typePomodoro.type:1,changed:this.changed,workspaceId:this.$route.params.id};for(var n in this.pomodoro)this.pomodoro[n]=e[n];this.loadToGlobal.type=-1!==this.typePomodoro.type?this.typePomodoro.type:1},alerta:function(){var o=this,t="";t=1===this.pomodoro.pomodoroType?"estudo":2===this.pomodoro.pomodoroType?"pausa curta":"pausa longa",c.play(),this.$alert("O seu tempo de ".concat(t," chegou ao fim!")).then((function(){c.pause(),o.reset()}))}}},l=h,m=(e("e547"),e("2877")),f=Object(m["a"])(l,n,r,!1,null,"1fb4b8b8",null);t["a"]=f.exports},e547:function(o,t,e){"use strict";e("8e7e")}});
//# sourceMappingURL=app.220ba63e.js.map